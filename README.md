# TradeSimple - ìˆ˜ì…ì—…ë¬´ ê°„í¸í™” AI ë„ìš°ë¯¸

> HSì½”ë“œ ë¶„ë¥˜ ë° ê´€ì„¸ ê³„ì‚° AI ì‹œìŠ¤í…œ  
> K Intelligence í•´ì»¤í†¤ 2025 ì¶œí’ˆì‘

---

## ğŸ“‹ ëª©ì°¨

- [ê°œìš”](#ê°œìš”)
- [ì£¼ìš” ê¸°ëŠ¥](#ì£¼ìš”-ê¸°ëŠ¥)
- [ì•„í‚¤í…ì²˜](#ì•„í‚¤í…ì²˜)
- [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
- [ì„¤ì¹˜ ë° ì‹¤í–‰](#ì„¤ì¹˜-ë°-ì‹¤í–‰)
- [API ë¬¸ì„œ](#api-ë¬¸ì„œ)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ë””ìì¸ íŒ¨í„´](#ë””ìì¸-íŒ¨í„´)

---

## ê°œìš”

**TradeSimple**ì€ ë³µì¡í•œ ìˆ˜ì… ì—…ë¬´ë¥¼ ìë™í™”í•˜ëŠ” AI ì†”ë£¨ì…˜ì…ë‹ˆë‹¤.

### í•´ê²°í•˜ëŠ” ë¬¸ì œ

| ê¸°ì¡´ ë°©ì‹ | TradeSimple |
|-----------|-------------|
| HS ì½”ë“œë¥¼ ì§ì ‘ ì•Œì•„ì•¼ ê²€ìƒ‰ ê°€ëŠ¥ | ë¬¼í’ˆ ì„¤ëª…ë§Œìœ¼ë¡œ ìë™ ë¶„ë¥˜ |
| ì—¬ëŸ¬ ì‚¬ì´íŠ¸ì—ì„œ í™˜ìœ¨/ê´€ì„¸ìœ¨ ì¡°íšŒ | ì‹¤ì‹œê°„ ìë™ ì¡°íšŒ |
| ìˆ˜ë™ ê³„ì‚° ë° ë³´ê³ ì„œ ì‘ì„± | ì›í´ë¦­ ë³´ê³ ì„œ ìƒì„± (PDF/Word/Excel) |
| í‰ê·  30ë¶„+ ì†Œìš” | 1ë¶„ ë‚´ ì™„ë£Œ |

### ì…ë ¥ ì˜ˆì‹œ

```
ë¯¸êµ­ì—ì„œ ìŠ¤ë§ˆíŠ¸ì›Œì¹˜ 100ê°œë¥¼ ê°œë‹¹ 300ë‹¬ëŸ¬ì— ìˆ˜ì…í•˜ë ¤ê³  í•©ë‹ˆë‹¤.
```

### ì¶œë ¥ ê²°ê³¼

- HS ì½”ë“œ: `8517.62-9090` (ë¬´ì„ í†µì‹ ê¸°ê¸°)
- ì ìš© ê´€ì„¸ìœ¨: 0% (í•œ-ë¯¸ FTA)
- ì´ ì˜ˆìƒ ë¹„ìš©: ì•½ 44,550,000ì›
- PDF/Word/Excel ë³´ê³ ì„œ ìë™ ìƒì„±

---

## ì£¼ìš” ê¸°ëŠ¥

### 1. HS ì½”ë“œ ìë™ ë¶„ë¥˜ (ReAct íŒ¨í„´)

- RAG ê¸°ë°˜ ë²¡í„° ê²€ìƒ‰ìœ¼ë¡œ ê´€ë ¨ HS ì½”ë“œ í›„ë³´ ì¶”ì¶œ
- LLMì´ **ìŠ¤ìŠ¤ë¡œ ë„êµ¬ë¥¼ ì„ íƒ**í•˜ì—¬ ìµœì  ì½”ë“œ ê²°ì •
- ë¶„ë¥˜ ê·¼ê±° ì„¤ëª… ì œê³µ

### 2. ì‹¤ì‹œê°„ í™˜ìœ¨ ë° ê´€ì„¸ìœ¨ ì¡°íšŒ

- ExchangeRate APIë¥¼ í†µí•œ ì‹¤ì‹œê°„ í™˜ìœ¨
- ê¸°ë³¸ì„¸ìœ¨, ì ì •ì„¸ìœ¨, WTO í˜‘ì •ì„¸ìœ¨ ë¹„êµ í›„ ìµœì € ì„¸ìœ¨ ì ìš©

### 3. ì¢…í•© ë¹„ìš© ê³„ì‚°

```
ì´ ë¹„ìš© = ë¬¼í’ˆê°€ê²©(ì›í™”) + ê´€ì„¸ + ë¶€ê°€ì„¸(10%)
```

### 4. ë‹¤ì¤‘ í˜•ì‹ ë³´ê³ ì„œ ìƒì„±

- **PDF**: ê³µì‹ ë¬¸ì„œìš©
- **Word**: í¸ì§‘ ê°€ëŠ¥
- **Excel**: ë°ì´í„° ë¶„ì„ìš©
- `asyncio.gather`ë¡œ **3ì¢… ë™ì‹œ ìƒì„±**

---

## ì•„í‚¤í…ì²˜

### ì—ì´ì „íŠ¸ êµ¬ì¡°ë„

![TradeSimple Architecture](./architecture.png)

### ì‹œìŠ¤í…œ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           TradeSimple                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Streamlit     â”‚          â”‚       LangServe API Server          â”‚  â”‚
â”‚  â”‚    Web UI       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚           (FastAPI)                 â”‚  â”‚
â”‚  â”‚   :8501         â”‚          â”‚            :8000                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                              â”‚                          â”‚
â”‚                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚                               â–¼                             â–¼          â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                    â”‚   LangGraph Agent   â”‚      â”‚     OpenAI       â”‚   â”‚
â”‚                    â”‚    (Supervisor)     â”‚      â”‚     GPT-4o       â”‚   â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                               â”‚                                         â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚              â–¼                â–¼                â–¼                       â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚     â”‚  HS Code       â”‚ â”‚    Tax     â”‚ â”‚    Report      â”‚              â”‚
â”‚     â”‚  Finder        â”‚ â”‚ Calculator â”‚ â”‚    Writer      â”‚              â”‚
â”‚     â”‚  (ReAct)       â”‚ â”‚  (ReAct)   â”‚ â”‚  (Parallel)    â”‚              â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚              â”‚                â”‚                â”‚                       â”‚
â”‚              â–¼                â–¼                â–¼                       â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚     â”‚ â€¢ hs_code_     â”‚ â”‚ â€¢ exchange_â”‚ â”‚ â€¢ pdf_report   â”‚              â”‚
â”‚     â”‚   search       â”‚ â”‚   rate_    â”‚ â”‚ â€¢ word_report  â”‚              â”‚
â”‚     â”‚ â€¢ tariff_      â”‚ â”‚   loader   â”‚ â”‚ â€¢ excel_report â”‚              â”‚
â”‚     â”‚   search       â”‚ â”‚ â€¢ cost_    â”‚ â”‚   (ë™ì‹œ ìƒì„±)  â”‚              â”‚
â”‚     â”‚                â”‚ â”‚   calculatorâ”‚ â”‚                â”‚              â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì‹¤í–‰ íë¦„ (ë³‘ë ¬ ì²˜ë¦¬ í¬í•¨)

```
ì‚¬ìš©ì ì…ë ¥
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Input Validator â”‚ â—„â”€â”€ LLMìœ¼ë¡œ ì •ë³´ ì¶”ì¶œ (ë¬¼í’ˆëª…, ìˆ˜ëŸ‰, ë‹¨ê°€, í†µí™”)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Supervisor    â”‚ â—„â”€â”€ ì›Œí¬í”Œë¡œìš° ì¡°ìœ¨
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Parallel Fetch Node          â”‚ â—„â”€â”€ ğŸ”¥ ë¹„ë™ê¸° ë³‘ë ¬ ì²˜ë¦¬
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ HS Code     â”‚ Exchange Rate   â”‚  â”‚
â”‚  â”‚ Search      â”‚ Fetch           â”‚  â”‚
â”‚  â”‚ (ReAct)     â”‚ (API)           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         asyncio.gather()            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tax Calculator  â”‚ â—„â”€â”€ ReAct íŒ¨í„´ìœ¼ë¡œ ë¹„ìš© ê³„ì‚° ë° ê²€ì¦
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Report Writer   â”‚ â—„â”€â”€ ğŸ”¥ PDF/Word/Excel ë™ì‹œ ìƒì„±
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    ìµœì¢… ê²°ê³¼
```

---

## ê¸°ìˆ  ìŠ¤íƒ

### Core

| ê¸°ìˆ  | ìš©ë„ | ë²„ì „ |
|------|------|------|
| Python | ë©”ì¸ ì–¸ì–´ | 3.10+ |
| LangGraph | ì—ì´ì „íŠ¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ | 0.2+ |
| LangChain | LLM í”„ë ˆì„ì›Œí¬ | 0.3+ |
| OpenAI GPT-4o | LLM | - |

### API & Serving

| ê¸°ìˆ  | ìš©ë„ |
|------|------|
| LangServe | LangGraph â†’ REST API ë³€í™˜ |
| FastAPI | ì›¹ í”„ë ˆì„ì›Œí¬ |
| Uvicorn | ASGI ì„œë²„ |

### Frontend

| ê¸°ìˆ  | ìš©ë„ |
|------|------|
| Streamlit | ì›¹ UI |

### Data & Vector Store

| ê¸°ìˆ  | ìš©ë„ |
|------|------|
| FAISS | ë²¡í„° ê²€ìƒ‰ |
| HuggingFace Embeddings | í•œêµ­ì–´ ì„ë² ë”© (ko-sroberta) |
| Pandas | ê´€ì„¸ìœ¨ CSV ì²˜ë¦¬ |

### Infrastructure

| ê¸°ìˆ  | ìš©ë„ |
|------|------|
| Docker | ì»¨í…Œì´ë„ˆí™” |
| Docker Compose | ë©€í‹° ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ |

---

## ì„¤ì¹˜ ë° ì‹¤í–‰

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- Python 3.10 ì´ìƒ
- OpenAI API í‚¤
- (ì„ íƒ) Docker & Docker Compose

### ë°©ë²• 1: ë¡œì»¬ ì‹¤í–‰

```bash
# 1. ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/10mm-notebook/tradesimple.git
cd TradeSimple

# 2. ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
python -m venv venv

# Windows
venv\Scripts\activate

# macOS/Linux
source venv/bin/activate

# 3. ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# 4. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ì„ ì—´ì–´ OPENAI_API_KEY ì…ë ¥

# 5-A. Streamlit Web UI ì‹¤í–‰
streamlit run app/main.py
# â†’ http://localhost:8501

# 5-B. ë˜ëŠ” LangServe API ì„œë²„ ì‹¤í–‰
python -m api.server
# â†’ http://localhost:8000
```

### ë°©ë²• 2: Docker ì‹¤í–‰

```bash
# 1. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ì— API í‚¤ ì…ë ¥

# 2. Docker Composeë¡œ ì „ì²´ ì„œë¹„ìŠ¤ ì‹¤í–‰
docker-compose up -d

# 3. ë¡œê·¸ í™•ì¸
docker-compose logs -f

# 4. ì„œë¹„ìŠ¤ ì ‘ì†
# - Web UI: http://localhost:8501
# - API Server: http://localhost:8000
# - API ë¬¸ì„œ: http://localhost:8000/docs
# - LangServe Playground: http://localhost:8000/agent/playground

# 5. ì„œë¹„ìŠ¤ ì¤‘ì§€
docker-compose down
```

### Docker ì„œë¹„ìŠ¤ êµ¬ì„±

| ì„œë¹„ìŠ¤ | í¬íŠ¸ | ì„¤ëª… |
|--------|------|------|
| `api` | 8000 | LangServe API ì„œë²„ |
| `web` | 8501 | Streamlit Web UI |

---

## API ë¬¸ì„œ

### LangServe ê¸°ë³¸ ì—”ë“œí¬ì¸íŠ¸

LangGraph ì—ì´ì „íŠ¸ê°€ ìë™ìœ¼ë¡œ REST APIë¡œ ë…¸ì¶œë©ë‹ˆë‹¤.

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| POST | `/agent/invoke` | ì—ì´ì „íŠ¸ ë™ê¸° ì‹¤í–‰ |
| POST | `/agent/stream` | ìŠ¤íŠ¸ë¦¬ë° ì‹¤í–‰ |
| POST | `/agent/batch` | ë°°ì¹˜ ì‹¤í–‰ |
| GET | `/agent/playground` | ì¸í„°ë™í‹°ë¸Œ í…ŒìŠ¤íŠ¸ UI |

### ì»¤ìŠ¤í…€ API ì—”ë“œí¬ì¸íŠ¸

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| GET | `/health` | í—¬ìŠ¤ì²´í¬ |
| POST | `/api/v1/calculate` | ìˆ˜ì… ë¹„ìš© ê³„ì‚° |
| GET | `/api/v1/session/{id}` | ì„¸ì…˜ ìƒíƒœ ì¡°íšŒ |
| DELETE | `/api/v1/session/{id}` | ì„¸ì…˜ ì‚­ì œ |
| GET | `/api/v1/reports/{filename}` | ë³´ê³ ì„œ ë‹¤ìš´ë¡œë“œ |

### API ì‚¬ìš© ì˜ˆì‹œ

#### ìˆ˜ì… ë¹„ìš© ê³„ì‚°

```bash
curl -X POST http://localhost:8000/api/v1/calculate \
  -H "Content-Type: application/json" \
  -d '{
    "message": "ë¯¸êµ­ì—ì„œ ìŠ¤ë§ˆíŠ¸ì›Œì¹˜ 100ê°œë¥¼ ê°œë‹¹ 300ë‹¬ëŸ¬ì— ìˆ˜ì…í•˜ë ¤ê³  í•©ë‹ˆë‹¤."
  }'
```

#### ì‘ë‹µ ì˜ˆì‹œ

```json
{
  "success": true,
  "session_id": "abc123",
  "item_name": "ìŠ¤ë§ˆíŠ¸ì›Œì¹˜",
  "quantity": 100,
  "unit_price": 300.0,
  "currency": "USD",
  "hs_code": "8517.62-9090",
  "tariff_rate": 0.0,
  "exchange_rate": 1350.0,
  "total_cost": 44550000.0,
  "report_paths": {
    "pdf": "report.pdf",
    "word": "report.docx",
    "excel": "report.xlsx"
  }
}
```

#### LangServe Playground

ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:8000/agent/playground` ì ‘ì†í•˜ì—¬ ì¸í„°ë™í‹°ë¸Œí•˜ê²Œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
TradeSimple/
â”œâ”€â”€ api/                          # LangServe API ì„œë²„
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ server.py                 # FastAPI + LangServe ë©”ì¸
â”‚   â””â”€â”€ schemas.py                # Pydantic ìŠ¤í‚¤ë§ˆ
â”‚
â”œâ”€â”€ app/                          # ì½”ì–´ ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py                   # Streamlit Web UI
â”‚   â”œâ”€â”€ graph.py                  # LangGraph ì •ì˜ (Supervisor)
â”‚   â”œâ”€â”€ state.py                  # AgentState TypedDict
â”‚   â”œâ”€â”€ models.py                 # LLM ë¡œë”
â”‚   â”œâ”€â”€ tools.py                  # ë„êµ¬ ì •ì˜
â”‚   â””â”€â”€ agents/                   # ReAct ì—ì´ì „íŠ¸
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ hs_code_finder.py     # HS ì½”ë“œ ê²€ìƒ‰ (ReAct)
â”‚       â”œâ”€â”€ tax_calculator.py     # ë¹„ìš© ê³„ì‚° (ReAct)
â”‚       â””â”€â”€ report_writer.py      # ë³´ê³ ì„œ ìƒì„± (ë³‘ë ¬)
â”‚
â”œâ”€â”€ data/                         # ë°ì´í„° íŒŒì¼
â”‚   â”œâ”€â”€ hsk_guide.pdf             # HS ì½”ë“œ ê°€ì´ë“œ (RAG ì†ŒìŠ¤)
â”‚   â””â”€â”€ tariff_by_hs.csv          # ê´€ì„¸ìœ¨ DB
â”‚
â”œâ”€â”€ fonts/                        # í°íŠ¸ íŒŒì¼
â”‚   â””â”€â”€ NanumGothic.ttf           # PDF í•œê¸€ í°íŠ¸
â”‚
â”œâ”€â”€ vector_store/                 # FAISS ë²¡í„° ìŠ¤í† ì–´
â”‚   â””â”€â”€ faiss_index/
â”‚
â”œâ”€â”€ Dockerfile                    # API ì„œë²„ Docker
â”œâ”€â”€ Dockerfile.web                # Web UI Docker
â”œâ”€â”€ docker-compose.yml            # Docker Compose ì„¤ì •
â”œâ”€â”€ .dockerignore
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .env.example                  # í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿
â”œâ”€â”€ requirements.txt              # Python ì˜ì¡´ì„±
â”œâ”€â”€ run_preprocessing.py          # ë²¡í„° ìŠ¤í† ì–´ ìƒì„± ìŠ¤í¬ë¦½íŠ¸
â””â”€â”€ README.md
```

---

## ë””ìì¸ íŒ¨í„´

### 1. Centralized Orchestrator Pattern (Supervisor)

ëª¨ë“  í•˜ìœ„ ì—ì´ì „íŠ¸ë¥¼ ì¤‘ì•™ì—ì„œ ì œì–´í•˜ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.

```python
# graph.py
workflow.add_conditional_edges(
    "supervisor",
    route_supervisor,
    {
        "parallel_fetch": "parallel_fetch",
        "hs_code_finder": "hs_code_finder",
        "tax_calculator": "tax_calculator",
        "report_writer": "report_writer",
        "end_node": END,
    }
)
```

### 2. ReAct Pattern

LLMì´ **ìŠ¤ìŠ¤ë¡œ ë„êµ¬ë¥¼ ì„ íƒ**í•˜ê³  ì‹¤í–‰í•˜ëŠ” ììœ¨ì  íŒ¨í„´ì…ë‹ˆë‹¤.

```python
# agents/hs_code_finder.py
from langgraph.prebuilt import create_react_agent

self.agent = create_react_agent(
    model=self.llm,
    tools=[hs_code_search, tariff_search_by_hs_code],
    state_modifier=SYSTEM_PROMPT,
)
```

**ReAct ë£¨í”„:**
```
Thought: ëƒ‰ë™ ì°¸ì¹˜ì˜ HS ì½”ë“œë¥¼ ì°¾ì•„ì•¼ í•œë‹¤
Action: hs_code_search("ëƒ‰ë™ ì°¸ì¹˜")
Observation: 0303.43 ê´€ë ¨ ê²°ê³¼...
Thought: 0303.43ìœ¼ë¡œ ê´€ì„¸ìœ¨ì„ ì¡°íšŒí•´ë³´ì
Action: tariff_search_by_hs_code("0303.43")
Observation: ê´€ì„¸ìœ¨ 10%
Final Answer: HS ì½”ë“œ 0303.43-0000, ê´€ì„¸ìœ¨ 10%
```

### 3. Tool-Augmented Generation Pattern

ê° ì—ì´ì „íŠ¸ê°€ ì „ë¬¸í™”ëœ ë„êµ¬ë¥¼ ë™ì ìœ¼ë¡œ ì„ íƒí•˜ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤.

| ì—ì´ì „íŠ¸ | ë„êµ¬ |
|----------|------|
| HS Code Finder | `hs_code_search`, `tariff_search_by_hs_code` |
| Tax Calculator | `exchange_rate_loader`, `final_cost_calculator` |
| Report Writer | `pdf_report_exporter`, `word_report_exporter`, `excel_report_exporter` |

### 4. ë¹„ë™ê¸° ë³‘ë ¬ ì²˜ë¦¬

ë…ë¦½ì ì¸ ì‘ì—…ì„ `asyncio.gather`ë¡œ ë™ì‹œ ì‹¤í–‰í•˜ì—¬ ì„±ëŠ¥ì„ ìµœì í™”í•©ë‹ˆë‹¤.

```python
# graph.py - HS ì½”ë“œ + í™˜ìœ¨ ë™ì‹œ ì¡°íšŒ
hs_result, exchange_result = await asyncio.gather(
    fetch_hs_code(),
    fetch_exchange_rate()
)

# agents/report_writer.py - ë³´ê³ ì„œ 3ì¢… ë™ì‹œ ìƒì„±
results = await asyncio.gather(
    self._export_pdf_async(content),
    self._export_word_async(content),
    self._export_excel_async(data),
)
```

---

## í™˜ê²½ ë³€ìˆ˜

| ë³€ìˆ˜ëª… | í•„ìˆ˜ | ì„¤ëª… |
|--------|------|------|
| `OPENAI_API_KEY` | âœ… | OpenAI API í‚¤ |
| `EXCHANGERATE_API_KEY` | âŒ | í™˜ìœ¨ API í‚¤ (ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ ì‚¬ìš©) |
| `LANGCHAIN_TRACING_V2` | âŒ | LangSmith íŠ¸ë ˆì´ì‹± í™œì„±í™” |
| `LANGCHAIN_API_KEY` | âŒ | LangSmith API í‚¤ |
